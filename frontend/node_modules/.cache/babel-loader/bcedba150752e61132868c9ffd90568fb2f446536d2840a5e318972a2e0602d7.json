{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Acer\\\\Documents\\\\Kazi_Connect\\\\frontend\\\\src\\\\pages\\\\VerifyEmail.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { supabase } from '../utils/supabase';\nimport AuthBackground from '../components/AuthBackground';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VerifyEmail = () => {\n  _s();\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Check if there's a token in the URL for automatic verification\n    const hashParams = new URLSearchParams(window.location.hash.substring(1));\n    const accessToken = hashParams.get('access_token');\n    const refreshToken = hashParams.get('refresh_token');\n    if (accessToken && refreshToken) {\n      // Set the session with the tokens from URL\n      supabase.auth.setSession({\n        access_token: accessToken,\n        refresh_token: refreshToken\n      }).then(({\n        data,\n        error\n      }) => {\n        if (error) {\n          console.error('Session error:', error);\n          toast.error('Verification failed');\n        } else {\n          toast.success('Email verified successfully!');\n          navigate('/dashboard');\n        }\n      });\n    }\n  }, [navigate]);\n  const handleResendVerification = async () => {\n    try {\n      const {\n        data: {\n          user\n        }\n      } = await supabase.auth.getUser();\n      if (user) {\n        const {\n          error\n        } = await supabase.auth.resend({\n          type: 'signup',\n          email: user.email\n        });\n        if (error) {\n          toast.error(error.message);\n        } else {\n          toast.success('Verification email sent!');\n        }\n      }\n    } catch (error) {\n      toast.error('Failed to resend verification email');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center p-4 bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(AuthBackground, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-4 left-4 flex items-center gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/favicon_io/favicon-32x32.png\",\n          alt: \"Kenya\",\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-lg font-semibold\",\n        children: \"Kazilink\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 relative my-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mb-2\",\n        children: \"Verify Your Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: \"We've sent a verification link to your email address. Please check your inbox and click the link to verify your account.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 border border-blue-200 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-blue-800\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Didn't receive the email?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this), \" Check your spam folder or click the button below to resend.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleResendVerification,\n          className: \"w-full bg-blue-600 text-white py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors duration-200\",\n          children: \"Resend Verification Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 text-center space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: [\"Already verified?\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            className: \"text-blue-600 font-semibold hover:text-blue-700\",\n            children: \"Sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: [\"Need to register?\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            className: \"text-blue-600 font-semibold hover:text-blue-700\",\n            children: \"Sign up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(VerifyEmail, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = VerifyEmail;\nexport default VerifyEmail;\nvar _c;\n$RefreshReg$(_c, \"VerifyEmail\");","map":{"version":3,"names":["React","useEffect","useNavigate","Link","toast","supabase","AuthBackground","jsxDEV","_jsxDEV","VerifyEmail","_s","navigate","hashParams","URLSearchParams","window","location","hash","substring","accessToken","get","refreshToken","auth","setSession","access_token","refresh_token","then","data","error","console","success","handleResendVerification","user","getUser","resend","type","email","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onClick","to","_c","$RefreshReg$"],"sources":["C:/Users/Acer/Documents/Kazi_Connect/frontend/src/pages/VerifyEmail.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { supabase } from '../utils/supabase';\r\nimport AuthBackground from '../components/AuthBackground';\r\n\r\nconst VerifyEmail = () => {\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // Check if there's a token in the URL for automatic verification\r\n    const hashParams = new URLSearchParams(window.location.hash.substring(1));\r\n    const accessToken = hashParams.get('access_token');\r\n    const refreshToken = hashParams.get('refresh_token');\r\n\r\n    if (accessToken && refreshToken) {\r\n      // Set the session with the tokens from URL\r\n      supabase.auth.setSession({\r\n        access_token: accessToken,\r\n        refresh_token: refreshToken\r\n      }).then(({ data, error }) => {\r\n        if (error) {\r\n          console.error('Session error:', error);\r\n          toast.error('Verification failed');\r\n        } else {\r\n          toast.success('Email verified successfully!');\r\n          navigate('/dashboard');\r\n        }\r\n      });\r\n    }\r\n  }, [navigate]);\r\n\r\n  const handleResendVerification = async () => {\r\n    try {\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n      if (user) {\r\n        const { error } = await supabase.auth.resend({\r\n          type: 'signup',\r\n          email: user.email\r\n        });\r\n\r\n        if (error) {\r\n          toast.error(error.message);\r\n        } else {\r\n          toast.success('Verification email sent!');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      toast.error('Failed to resend verification email');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center p-4 bg-gray-50\">\r\n      <AuthBackground />\r\n\r\n      {/* Top Logo */}\r\n      <div className=\"fixed top-4 left-4 flex items-center gap-2\">\r\n        <div className=\"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center\">\r\n          <img src=\"/favicon_io/favicon-32x32.png\" alt=\"Kenya\" className=\"w-6 h-6\" />\r\n        </div>\r\n        <span className=\"text-lg font-semibold\">Kazilink</span>\r\n      </div>\r\n\r\n      {/* Main Card */}\r\n      <div className=\"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 relative my-8\">\r\n        <h2 className=\"text-2xl font-bold mb-2\">Verify Your Email</h2>\r\n        <p className=\"text-gray-600 mb-6\">\r\n          We've sent a verification link to your email address. Please check your inbox and click the link to verify your account.\r\n        </p>\r\n\r\n        <div className=\"space-y-4\">\r\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n            <p className=\"text-sm text-blue-800\">\r\n              <strong>Didn't receive the email?</strong> Check your spam folder or click the button below to resend.\r\n            </p>\r\n          </div>\r\n\r\n          <button\r\n            onClick={handleResendVerification}\r\n            className=\"w-full bg-blue-600 text-white py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors duration-200\"\r\n          >\r\n            Resend Verification Email\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"mt-6 text-center space-y-2\">\r\n          <p className=\"text-gray-600\">\r\n            Already verified?{' '}\r\n            <Link to=\"/login\" className=\"text-blue-600 font-semibold hover:text-blue-700\">\r\n              Sign in\r\n            </Link>\r\n          </p>\r\n          <p className=\"text-gray-600\">\r\n            Need to register?{' '}\r\n            <Link to=\"/register\" className=\"text-blue-600 font-semibold hover:text-blue-700\">\r\n              Sign up\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VerifyEmail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}