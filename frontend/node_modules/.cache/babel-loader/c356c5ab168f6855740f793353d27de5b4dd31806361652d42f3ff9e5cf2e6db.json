{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BrowseTasks=()=>{const[tasks,setTasks]=useState([]);useEffect(()=>{const fetchTasks=async()=>{const token=localStorage.getItem('token');if(token){const config={headers:{Authorization:\"Bearer \".concat(token)}};const res=await axios.get('https://kazi-connect.onrender.com/api/tasks',config);setTasks(res.data);}};fetchTasks();},[]);const acceptTask=async id=>{const token=localStorage.getItem('token');const config={headers:{Authorization:\"Bearer \".concat(token)}};await axios.patch(\"https://kazi-connect.onrender.com/api/tasks/\".concat(id,\"/accept\"),{},config);window.location.reload();};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Browse Tasks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:tasks.filter(t=>t.status==='open').map(task=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-lg rounded-lg p-6 border\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2\",children:task.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-2\",children:task.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mb-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",task.location]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mb-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\" KSh \",task.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mb-4\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Skills:\"}),\" \",task.skills.join(', ')]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\",onClick:()=>acceptTask(task._id),children:\"Accept Task\"})]},task._id))})]});};export default BrowseTasks;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","BrowseTasks","tasks","setTasks","fetchTasks","token","localStorage","getItem","config","headers","Authorization","concat","res","get","data","acceptTask","id","patch","window","location","reload","className","children","filter","t","status","map","task","title","description","price","skills","join","onClick","_id"],"sources":["C:/Users/Acer/Documents/Kazi_Connect/frontend/src/pages/BrowseTasks.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst BrowseTasks = () => {\r\n  const [tasks, setTasks] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchTasks = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        const config = { headers: { Authorization: `Bearer ${token}` } };\r\n        const res = await axios.get('https://kazi-connect.onrender.com/api/tasks', config);\r\n        setTasks(res.data);\r\n      }\r\n    };\r\n    fetchTasks();\r\n  }, []);\r\n\r\n  const acceptTask = async (id) => {\r\n    const token = localStorage.getItem('token');\r\n    const config = { headers: { Authorization: `Bearer ${token}` } };\r\n    await axios.patch(`https://kazi-connect.onrender.com/api/tasks/${id}/accept`, {}, config);\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-8\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Browse Tasks</h2>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n        {tasks.filter(t => t.status === 'open').map(task => (\r\n          <div key={task._id} className=\"bg-white shadow-lg rounded-lg p-6 border\">\r\n            <h3 className=\"text-xl font-bold mb-2\">{task.title}</h3>\r\n            <p className=\"text-gray-700 mb-2\">{task.description}</p>\r\n            <p className=\"text-sm text-gray-500 mb-1\"><strong>Location:</strong> {task.location}</p>\r\n            <p className=\"text-sm text-gray-500 mb-1\"><strong>Price:</strong> KSh {task.price}</p>\r\n            <p className=\"text-sm text-gray-500 mb-4\"><strong>Skills:</strong> {task.skills.join(', ')}</p>\r\n            <button className=\"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\" onClick={() => acceptTask(task._id)}>Accept Task</button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BrowseTasks;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}